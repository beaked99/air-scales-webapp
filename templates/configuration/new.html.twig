{# templates/configuration/new.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}New Configuration{% endblock %}

{% block body %}
<div class="min-h-screen text-white bg-gray-900">

  <!-- Header -->
  <header class="sticky top-0 z-50 px-4 py-3 bg-gray-800 border-b border-gray-700 shadow-md">
    <div class="flex items-center justify-between">
      <h1 class="text-xl font-semibold text-white">New Configuration</h1>
      <a href="{{ path('configuration_index') }}" class="text-sm text-sky-400 hover:text-sky-300">
        ‚Üê Back
      </a>
    </div>
  </header>

  <main class="pb-20">

    <!-- Flash Messages -->
    {% for type, messages in app.flashes %}
      {% for message in messages %}
        <div class="mx-4 mt-4 p-3 rounded-lg border-l-4 {% if type == 'success' %}bg-green-900/50 border-green-500 text-green-100{% elseif type == 'warning' %}bg-yellow-900/50 border-yellow-500 text-yellow-100{% else %}bg-red-900/50 border-red-500 text-red-100{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    {% endfor %}

    <!-- Info Card -->
    <section class="m-4 p-4 bg-sky-900/30 border border-sky-700 rounded-lg">
      <h2 class="text-lg font-semibold text-sky-400 mb-2">What is a Configuration?</h2>
      <p class="text-sm text-gray-300">
        A configuration groups your devices together to represent a truck + trailer setup.
        For example, "Kenworth + 53' Van" or "Peterbilt + Flatbed".
      </p>
    </section>

    <!-- Create Form -->
    <form method="POST" class="m-4">
      <section class="p-4 bg-gray-800 rounded-lg border border-gray-700">
        <h2 class="text-lg font-semibold mb-4">Configuration Details</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">Configuration Name *</label>
            <input type="text" name="name" required
                   class="w-full px-3 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:outline-none focus:border-sky-400"
                   placeholder="e.g., Kenworth + 53' Van">
            <div class="text-xs text-gray-400 mt-1">Give it a name you'll recognize</div>
          </div>

          <button type="submit"
                  class="w-full py-3 font-semibold bg-sky-600 hover:bg-sky-700 rounded-lg transition-colors">
            Create Configuration
          </button>

          <div class="text-xs text-gray-400 text-center">
            You'll add devices after creating the configuration
          </div>
        </div>
      </section>
    </form>

  </main>
</div>
{% endblock %}
